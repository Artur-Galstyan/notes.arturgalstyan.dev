---
import Layout from "../layouts/Layout.astro";
const posts = Object.values(import.meta.glob("./posts/*.md", { eager: true }));

const sortedPosts = posts.sort(
    (a: any, b: any) =>
        new Date(b.frontmatter.date).getTime() -
        new Date(a.frontmatter.date).getTime(),
);
---

<Layout>
    <div class="space-y-6 max-w-4xl mx-auto flex flex-col">
        {
            sortedPosts.map((post: any) => (
                <div class="flex justify-center w-full">
                    <div class="card bg-base-100 w-96 md:w-2/3 shadow-sm p-4">
                        <a href={post.url}>
                            <div class="card-body">
                                <h2 class="card-title">
                                    {post.frontmatter.title}
                                </h2>
                                <p>{post.frontmatter.description}</p>
                            </div>
                            <time
                                datetime={post.frontmatter.date}
                                class="text-sm md:text-base text-base-content/50 font-mono whitespace-nowrap"
                            >
                                {new Date(
                                    post.frontmatter.date,
                                ).toLocaleDateString("en-US", {
                                    year: "numeric",
                                    month: "short",
                                    day: "numeric",
                                })}
                            </time>
                        </a>
                    </div>
                </div>
            ))
        }
    </div>
</Layout>
